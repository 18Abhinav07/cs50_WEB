{% extends "network/layout.html" %}

{% block body %}

{% if values %}
        {% for val in values %}
        {% with post=val.0 like=val.1 dislike=val.2 %}
            <div class="card" style="margin:1rem">
                <div class="card-body">
                    <div class="card-body d-flex justify-content-between">
                <a href="{% url 'user_info' pk=post.id %}" class="link-primary link-underline-opacity-0"><h5 class="card-title"><strong>{{ post.user }}</strong></h5></a>
                
                {% if post.user == request.user %}
                <button type="submit" class="btn btn-primary edit-btn" data-post-id="{{ post.id }}">Edit</button>
                {% endif %}

            </div>
                <p class="card-text post-content" data-post-id="{{ post.id }}" style="padding:2rem; border:solid 1px rgb(156, 155, 155); border-radius:10px;">{{ post.content }}</p>
               
                <div class="edit-container" data-post-id="{{ post.id }}" style="display: none;">
                <textarea class="edit-textarea"></textarea>
                 <button class="save-btn">Save</button>
                 </div>

                </div>
                <ul class="list-group list-group-flush">
                <li class="list-group-item">{{ post.timestamp }}</li>
                <li class="list-group-item">&#10084; {{like}} 
                </li>
                <li class="list-group-item">&#128078; {{dislike}} 
                </li>
                <li class="list-group-item card-link">Comment</li>
                </ul>
            </div>
            {% endwith %}
        {% endfor %}

        {% if page_obj.has_previous %}
        <a href="?page={{ page_obj.previous_page_number }}">Previous</a>
        {% endif %}

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}">Next</a>
        {% endif %}
                
   {% endif %}
    
{% endblock %}